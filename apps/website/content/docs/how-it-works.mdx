# How it works

If you just want to start using Prose UI quickly, feel free to jump to the [installation](/docs/installation) guide or begin with one of the [templates](/templates).

Prose UI consists of 3 main elements:
- **React components**\
Available in `@prose-ui/react` for any React runtime, with Next-specific overrides shipped from `@prose-ui/next`.
- **CSS styles**\
Available from `@prose-ui/styles` (`prose-ui.css` plus `katex.min.css` and fonts).
- **Remark plugins**\
Available in `@prose-ui/core`

## React components

The `mdxComponents` array from `@prose-ui/react` includes React server components necessary for rendering elements such as highlighted code blocks, callouts, images, headings, frames, and math formulas. Next.js users can rely on `@prose-ui/next`, which re-exports the same surface but swaps in `next/link` and `next/image` under the hood.

```js
import { mdxComponents } from "@prose-ui/react"

// Next.js projects can continue importing from:
// import { mdxComponents } from "@prose-ui/next"
```

Prose UI also exports these components individually for use outside of MDX.

```js
import {
  Callout,
  CodeBlock,
  Frame,
  Heading,
  Image,
  Link,
  InlineMath,
  BlockMath,
} from "@prose-ui/react"
```

## CSS styles

CSS styles from `@prose-ui/styles/prose-ui.css` provide default typography and component styles scoped under the `prose-ui` ancestor CSS class.

In Next.js (or any React runtime), import these styles into your global stylesheet:

```css title="globals.css"
@import '@prose-ui/styles/prose-ui.css';
@import '@prose-ui/styles/katex.min.css';
```

The `katex.min.css` import is required only if you use math formulas.

Prose UI uses the presence of the `dark` CSS class on the `<html>` element to determine whether to render content in dark mode.

<Callout variant="tip" title="Customize styles">
The easiest way to customize styles is by overriding the CSS variables defined in [`@prose-ui/styles/prose-ui.css`](https://github.com/vrepsys/prose-ui/blob/main/packages/styles/dist/prose-ui.css).
</Callout>

## Remark plugins

The `remarkPlugins(options)` function from `@prose-ui/core` enables essential 
features such as converting Markdown images to `<Image />` components (which the Next package upgrades to `next/image`), 
Markdown links to `<Link />` components (Next upgrades these to `next/link`), and LaTeX math formulas to KaTeX-rendered 
components using `$...$` for inline math and `$$...$$` for block math.

```typescript
import { remarkPlugins } from '@prose-ui/core'
```

The function accepts an optional `options` object, and returns an array of remark plugins you can use to set up your MDX renderer.
Here's an example:

```typescript
const plugins = remarkPlugins({
  image: {
    imageDir: './public',
  },
})
```
